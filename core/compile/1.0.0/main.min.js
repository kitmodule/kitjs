(function(global){const kitmodule=global.kitmodule||(global.kitmodule={}),{lexer:kitLexer,ast:kitAST,evaluate:kitEvaluate}=kitmodule;function kitCompile(expr){const tokens=kitLexer(expr),ast=kitAST(tokens);function getter(state={},context={}){return kitEvaluate(ast,state,context)}return ast.type==="AssignmentExpression"&&(getter.assign=(state,value,context={})=>{const right=ast.right,originalRight=right;ast.right={type:"Literal",value};const result=kitEvaluate(ast,state,context);return ast.right=originalRight,result}),getter}kitmodule.compile=kitCompile})(typeof window!="undefined"?window:globalThis)